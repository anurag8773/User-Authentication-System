{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<h2>Sign Up</h2>

<form method="POST">
    {% csrf_token %}
    
    <!-- Username Field -->
    <div>
        <label for="username">Username:</label>
        {{ form.username }}
        {% for error in form.username.errors %}
            <p class="field-error">{{ error }}</p>
        {% endfor %}
    </div>

    <!-- Email Field -->
    <div>
        <label for="email">Email:</label>
        {{ form.email }}
        {% for error in form.email.errors %}
            <p class="field-error">{{ error }}</p>
        {% endfor %}
    </div>

    <!-- Password1 Field -->
    <div>
        <label for="password1">Password:</label>
        <div class="password-container">
            {{ form.password1 }}
            <span class="toggle-password" onclick="togglePassword('id_password1')">
                <img src="{% static 'icons/eye-icon.png' %}" alt="Show/Hide Password" id="eye-id_password1" class="eye-icon">
            </span>
        </div>
        {% for error in form.password1.errors %}
            <p class="field-error">{{ error }}</p>
        {% endfor %}
    </div>

    <!-- Password2 Field -->
    <div>
        <label for="password2">Confirm Password:</label>
        <div class="password-container">
            {{ form.password2 }}
            <span class="toggle-password" onclick="togglePassword('id_password2')">
                <img src="{% static 'icons/eye-icon.png' %}" alt="Show/Hide Password" id="eye-id_password2" class="eye-icon">
            </span>
        </div>
        {% for error in form.password2.errors %}
            <p class="field-error">{{ error }}</p>
        {% endfor %}
    </div>

    <!-- Non-Field Errors -->
    {% if form.non_field_errors %}
        <div class="alert error">
            {% for error in form.non_field_errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Submit Button -->
    <button type="submit">Sign Up</button>
</form>

<p>Already have an account? <a href="{% url 'login' %}">Login</a></p>

{% endblock %}
